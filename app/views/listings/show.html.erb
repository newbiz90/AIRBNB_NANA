<div class="images d-flex justify-content-center">
  <div class="about-listing d-flex">
    <% if @listing.photos.attached? %>
      <% photo = @listing.photos.first %>
      <img src="https://source.unsplash.com/random/airbnb" alt="listing_image">
    <% else %>
      <!-- If no photo is attached, you may display a placeholder or handle it differently -->
      <p>No photo available</p>
    <% end %>
    <div class="d-flex flex-column">
      <h3>Listing Title : <%= @listing.title%></h3>
      <p id="description"><%= @listing.description%></p>
      <div class="d-flex p-3 c-gap">
        <div class="d-flex flex-column">
          <p><i class="fas fa-home"></i> Listing Type</p>
          <p><i class="fas fa-users"></i> <%= @listing.user%></p>
          <p><i class="fas fa-euro-sign"></i> <%= @listing.price%>/night</p>
        </div>
        <div class="d-flex flex-column">
          <p><i class="far fa-map"></i> Location</p>
          <p><i class="fas fa-wifi"></i> Wi-Fi</p>
          <p><i class="fas fa-tv"></i> Tv</p>
        </div>
      </div>
    </div>
  </div>
  <div class="d-flex">
    <!-- Include any additional content or components specific to your single listing page -->
  <!-- Single Product Listing with Small Bounding Box -->
  <h3>$<%= @listing.price %> SGD per night</h3>

  <%= simple_form_for([@listing, @booking]) do |f| %>
    <div class="form-group">
      <%= f.input :start_date, as: :string,class: 'form-control', input_html: {
        "data-controller" => "datepicker"
      } %>
    </div>

    <div class="form-group">
      <%= f.input :end_date, as: :string,class: 'form-control', input_html: {
        "data-controller" => "datepicker"
      } %>
    </div>

    <%= f.submit "Book", class: "btn btn-primary" %>
  <% end %>

  <%= simple_form_for([ @listing, @booking, @review ]) do |f| %>
    <%= f.input :rating, as: :select, collection: (1..5), input_html: { id: 'rating' } %>
    <%= f.input :content %>
    <%= f.submit 'Create review', class: "button mt-3 mb-3" %>
  <% end %>
  </div>

  <div class="review-container">
    <div class="d-flex justify-content-around">
      <div class="reviews flex-grow-1 mr-5 mb-3 p-3">
        <h5>Reviews</h5>
        <% if @reviews.present? %>
          <% @reviews.each do |review| %>
            <ul class="lists list-group list-group-flush">
              <li class="border-bottom">
                <span><%= review.user_id %></span>
                <small class="mx-3"><%= distance_of_time_in_words(Time.now, review.created_at) %> ago</small>
                <div class="d-flex mt-1">
                  <%= review.rating %>
                </div>
                <p id="review-<%= review.id %>"><%= review.content %></p>
              </li>
            </ul>
          <% end %>
        <% else %>
          <p>No reviews available</p>
        <% end %>
      </div>
    </div>
  </div>



</div>
